<div class="col-md-6 offset-md-3">
	<div class="text-center">
		<h2 *ngIf="isNewUser">Add User</h2>
		<h2 *ngIf="!isNewUser">Edit User</h2>
	</div>
	<form [formGroup]="form" (ngSubmit)="save()">
		<div class="form-group row">
			<label for="login" class="col-sm-2 font-weight-bold">Login</label>
			<div class="col-sm-10">
				<input type="text" formControlName="login" class="form-control"
					[ngClass]="{ 'is-invalid': submitted && f.login.errors }" />
				<div *ngIf="submitted && f.login.errors" class="invalid-feedback">
					<div *ngIf="f.login.errors.required">Login is required</div>
					<div *ngIf="f.login.errors.minlength">Login must be at least 3 characters</div>
					<div *ngIf="f.login.errors.maxlength">Login must be no more than 50 characters</div>
				</div>
			</div>
		</div>
		<div class="form-group row" *ngIf="isNewUser">
			<label for="password" class="col-sm-2 font-weight-bold">Password</label>
			<div class="col-sm-10">
				<input type="text" formControlName="password" class="form-control"
					[ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
				<div *ngIf="submitted && f.password.errors" class="invalid-feedback">
					<div *ngIf="f.password.errors.required">Password is required</div>
					<div *ngIf="f.password.errors.minlength">Password must be at least 5 characters</div>
				</div>
			</div>
		</div>
		<div class="form-group row">
			<label for="role" class="col-sm-2 font-weight-bold">Role</label>
			<div class="col-sm-10">
				<select formControlName="role" class="form-control"
					[ngClass]="{ 'is-invalid': submitted && f.role.errors }">
					<option value="USER">USER</option>
					<option value="ADMIN">ADMIN</option>
				</select>
			</div>
		</div>
		<div class="form-row">
			<div class="form-group">
				<button [disabled]="loading" class="btn btn-primary">
					<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
					Save
				</button>
				<a class="btn btn-link" (click)="location.back()">Back</a>
			</div>
		</div>
	</form>
</div>